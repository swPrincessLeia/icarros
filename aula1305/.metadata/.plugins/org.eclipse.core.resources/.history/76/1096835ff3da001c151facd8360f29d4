import java.io.File;
import java.io.FileWriter;
import java.io.IOException;
import java.io.PrintWriter;
import java.sql.Date;
import java.text.SimpleDateFormat;
import java.util.Arrays;
import java.util.List;

public class ProcessaArquivoTryCatch {
//entregar

	/*
	 * utilize try catch para escrever fisicamente o arquivo se o arquivo não
	 * existir você terá uma exceção e mandar ele criar file writwr print
	 */

	public static void main(String[] args) {
		// entregar
		// Acidinando todos os produtos numa lista.		
		List<String> produtos = Arrays.asList("Mouse", "Teclado", "Scanner", "Impressora", "Monitor");

		int dia = 13;
		int mes = 05;
		int ano = 2022;
		Date data = new Date(ano - 1900, mes - 1, dia);// não sei se seria a forma adequada
		SimpleDateFormat sdf = new SimpleDateFormat("dd/MM/yyyy");

		String path = "C:\\Users\\danie\\Downloads\\Icarros\\icarros-aulas\\icarros1305\\ArquivoTryCatch\\produtos.txt";
	
		if (!new File(path).exists()) {
			try {
				System.out.println("entrou se n existe");

				FileWriter arquivo = new FileWriter(path);
				PrintWriter gravarArquivo = new PrintWriter(arquivo);

				gravarArquivo.printf("Produtos Cadastrados" + "\n" + sdf.format(data));
				for (int i = 0; i < produtos.size(); i++) {

					gravarArquivo.printf("\n" + produtos.get(i));

					
				}
				arquivo.close();
				System.out.println("Arquivo gravado com sucesso");
			} catch (Exception e) {
				System.out.println("Erro: é possível que o nome do seu arquivo esteja errado.");
				
				
			}

		}else {
			System.out.println("Arquivo já existe");
		}

	}

}
